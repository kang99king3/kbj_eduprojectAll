<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>20.DOM탐색관련속성</title>
<script type="text/javascript">
	//DOM 객체의 종류
	//Document,  Element:<p>, Attribute: value="a" , Node, Text: 'text'
	
	//DOM탐색 관련 속성
	//-parentNode속성:해당 요소의 부모를 구하는 속성 
	function searchPar(){
		var child02=document.getElementsByTagName("p")[1];
		var div=child02.parentNode;//p태그의 부모인 div를 구함
		alert(div.tagName);//태그의 이름을 반환
		alert(div.nodeName);//tagName과 동일한 결과반환
		alert(div.nodeType);//요소의 타입을 반환(1:요소,2:속성,3:텍스트)
		
		var attr=document.createAttribute("style");
		alert(attr.nodeType);
		
		var txt=document.createTextNode("안녕");
		alert(txt.nodeType);
	}
	
	//childNodes속성: 탐색한 엘리먼트의 자식요소들을 구한다.(반환타입:배열)
	//               "\n" 텍스트 객체도 포함하여 자식요소를 구한다.
	//div태그의 자식태그중에 child02내용을 포함하고 있는 p요소를 구한다.
	function searchChi(){
		var div=document.getElementsByTagName("div")[0];
		var divChild=div.childNodes;//['\n',p,'\n',p,'\n',p,'\n']
		alert(divChild[1].nodeName+",내용:"+divChild[1].innerHTML);
	}
	function searchChi02(){
		var div=document.getElementsByTagName("div")[0];
		var divChild=div.children;
		alert(divChild[1].nodeName+",내용:"+divChild[1].innerHTML);
	}
	//firstChild/lastChild:자식요소중 첫번째/마지막 요소를 선택한다.
	//                     줄바꿈"\n"을 포함한다.-->node타입반환
	//firstElementChild/lastElementsChild: 자식요소중 첫번째/마지막 요소를 선택한다.
	//                     줄바꿈"\n"을 포함하지 않는다.--> Element타입반환
	function first_lastChild(){
		var div=document.getElementsByTagName("div")[0];
		var firstCh=div.firstElementChild;
		alert(firstCh.innerHTML);//엘리먼트의 내부요소구함-->정상적으로 처리
		var lastCh=div.lastChild;
		alert(lastCh.innerHTML);//텍스트의 내부요소구함--> undefined 처리
	}
	
	//previousSibling/nextSibling: 타겟태그의 앞에 또는 뒤에 오는 형제태그를 구한다.
	//                            줄바꿈"\n"을 포함한다.-->node타입반환 
	//previousElementSibling/nextElementSibling:타겟태그의 앞에 또는 뒤에 오는 형제태그를 구한다.
	//                            줄바꿈"\n"을 포함하지 않는다.-->element타입반환 
	function siblingTest(){
		var child02=document.getElementsByTagName("p")[1];
		var preSibling=child02.previousElementSibling;
// 		alert(preSibling.nodeType==3?"텍스트":"");
		alert(preSibling.nodeName+","+preSibling.innerHTML);
		preSibling.style.background="red";
		var nextSibling=child02.nextSibling;
		alert(nextSibling.nodeName);
	}
</script>
</head>
<body>
<div>
	<p>child01</p>
	<p>child02</p>
	<p>child03</p>
</div>
<button onclick="searchPar()">부모탐색</button>
<button onclick="searchChi()">자식탐색(childNodes)</button>
<button onclick="searchChi02()">자식탐색(children)</button>
<button onclick="first_lastChild()">자식탐색(첫번째요소/마지막요소)</button>
<button onclick="siblingTest()">형제탐색(이전요소/다음요소)</button>
</body>
</html>







